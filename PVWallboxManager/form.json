{
  "elements": [
    {
      "type": "ExpansionPanel",
      "caption": "🔌 Wallbox-Konfiguration",
      "items": [
        { "type": "Label", "label": "⚙️ Konfiguriere hier deine GO-e Wallbox und Ladeparameter." },
        { "type": "Label", "label": "🆔 Auswahl deiner GO-e Charger Instanz:" },
        { "type": "SelectInstance", "name": "GOEChargerID", "caption": "GO-e Instanz", "validClasses": ["GOeCharger"] },
        { "type": "Label", "label": "🔧 Minimale Stromstärke in Ampere für den Ladevorgang." },
        { "type": "NumberSpinner", "name": "MinAmpere", "caption": "Minimaler Ladestrom (A)" },
        { "type": "Label", "label": "🔧 Maximale Stromstärke in Ampere für den Ladevorgang." },
        { "type": "NumberSpinner", "name": "MaxAmpere", "caption": "Maximaler Ladestrom (A)" },
        { "type": "Label", "label": "⚡ Mindestüberschuss, ab dem die Wallbox lädt (Watt)." },
        { "type": "NumberSpinner", "name": "MinLadeWatt", "caption": "Start bei PV-Überschuss (W)" },
        { "type": "Label", "label": "🛑 Leistungsgrenze, unter der die Ladung gestoppt wird (Watt)." },
        { "type": "NumberSpinner", "name": "MinStopWatt", "caption": "Stoppen bei Defizit (W)" }
      ]
    },
    {
      "type": "ExpansionPanel",
      "caption": "🌞 Energiequellen",
      "items": [
        { "type": "Label", "label": "🌅 PV-Erzeugung in Watt (Pflichtangabe)." },
        { "type": "SelectVariable", "name": "PVErzeugungID", "caption": "PV-Erzeugung (W)", "validVariableTypes": [2] },
        { "type": "Label", "label": "🔌 Netzeinspeisung in Watt (positiv = Einspeisung, negativ = Bezug)." },
        { "type": "SelectVariable", "name": "NetzeinspeisungID", "caption": "Netzeinspeisung (W)" },
        { "type": "Label", "label": "🏠 Aktueller Gesamtverbrauch des Hauses in Watt." },
        { "type": "SelectVariable", "name": "HausverbrauchID", "caption": "Hausverbrauch (W)", "validVariableTypes": [2] },
        { "type": "Label", "label": "🔋 Lade- oder Entladeleistung der Hausbatterie (Watt)." },
        { "type": "SelectVariable", "name": "BatterieladungID", "caption": "Batterieladung (W)", "validVariableTypes": [2] },
        { "type": "Label", "label": "🔄 Intervall für die Leistungsberechnung in Sekunden." },
        { "type": "NumberSpinner", "name": "RefreshInterval", "caption": "Aktualisierungsintervall (s)", "minimum": 15, "maximum": 600 }
      ]
    },
    {
      "type": "ExpansionPanel",
      "caption": "⚡ Phasenumschaltung",
      "items": [
        { "type": "Label", "label": "🔢 Anfangswert für die Anzahl aktiver Phasen." },
        { "type": "NumberSpinner", "name": "Phasen", "caption": "Anzahl Phasen (Initialwert)" },
        { "type": "Label", "label": "⬇️ Schwelle in Watt zum Umschalten auf 1-phasig." },
        { "type": "NumberSpinner", "name": "Phasen1Schwelle", "caption": "Schwelle auf 1-phasig (W)" },
        { "type": "Label", "label": "⬆️ Schwelle in Watt zum Umschalten auf 3-phasig." },
        { "type": "NumberSpinner", "name": "Phasen3Schwelle", "caption": "Schwelle auf 3-phasig (W)" },
        { "type": "Label", "label": "🔢 Zählerlimit für stabile Umschaltung auf 1-phasig." },
        { "type": "NumberSpinner", "name": "Phasen1Limit", "caption": "Zählerlimit 1-phasig" },
        { "type": "Label", "label": "🔢 Zählerlimit für stabile Umschaltung auf 3-phasig." },
        { "type": "NumberSpinner", "name": "Phasen3Limit", "caption": "Zählerlimit 3-phasig" }
      ]
    },
    {
      "type": "ExpansionPanel",
      "caption": "🧠 Intelligente Logik",
      "items": [
        { "type": "Label", "label": "🧮 Aktiviert dynamischen Sicherheitsabzug bei der Leistungsberechnung." },
        { "type": "CheckBox", "name": "DynamischerPufferAktiv", "caption": "Dynamischen Puffer aktivieren" },
        { "type": "Label", "label": "🚀 Mindestüberschuss zur Aktivierung der Ladung." },
        { "type": "NumberSpinner", "name": "MinAktivierungsWatt", "caption": "Minimale Aktivierungsleistung (W)" },
        { "type": "Label", "label": "🚗 Nur laden wenn Fahrzeug erkannt ist (Status 2 oder 4)." },
        { "type": "CheckBox", "name": "NurMitFahrzeug", "caption": "Nur laden, wenn Fahrzeug verbunden" },
        { "type": "Label", "label": "⚖️ PV-Leistung anteilig zwischen Haus und Auto aufteilen." },
        { "type": "CheckBox", "name": "PVVerteilenAktiv", "caption": "PV-Leistung aufteilen aktivieren" },
        { "type": "Label", "label": "🚗 Anteil des PV-Überschusses fürs Fahrzeug." },
        { "type": "NumberSpinner", "name": "PVAnteilAuto", "caption": "PV-Anteil fürs Auto (%)", "suffix": "%", "visible": { "name": "PVVerteilenAktiv", "equals": true } },
        { "type": "Label", "label": "🔋 Hausakku SoC zur Berücksichtigung bei voller Batterie." },
        { "type": "SelectVariable", "name": "HausakkuSOCID", "caption": "Hausakku SoC (%)", "visible": { "name": "PVVerteilenAktiv", "equals": true } },
        { "type": "Label", "label": "🔋 Schwelle ab wann Hausakku als voll gilt." },
        { "type": "NumberSpinner", "name": "HausakkuSOCVollSchwelle", "caption": "Voll-Schwelle Hausbatterie (%)", "suffix": "%", "minimum": 50, "maximum": 100, "visible": { "name": "PVVerteilenAktiv", "equals": true } },
        { "type": "Label", "label": "⏱️ Stunden vor Zielzeit, ab wann aktiv geladen wird." },
        { "type": "NumberSpinner", "name": "TargetChargePreTime", "caption": "Umschaltzeit vor Zielzeit (h)", "suffix": "h", "minimum": 1, "maximum": 12 }
      ]
    },
    {
      "type": "ExpansionPanel",
      "caption": "🚗 Fahrzeugdaten",
      "items": [
        { "type": "Label", "label": "📊 Fahrzeugdaten für SoC-basierte Ladesteuerung verwenden." },
        { "type": "CheckBox", "name": "UseCarSOC", "caption": "Fahrzeugdaten berücksichtigen" },
        { "type": "Label", "label": "🔋 Aktueller SoC des Fahrzeugs (Variable)." },
        { "type": "SelectVariable", "name": "CarSOCID", "caption": "Aktueller SoC (Variable)" },
        { "type": "Label", "label": "🔋 Fallback SoC in %, wenn keine Variable angegeben." },
        { "type": "NumberSpinner", "name": "CarSOCFallback", "caption": "Fallback SoC (%)", "suffix": "%" },
        { "type": "Label", "label": "🎯 Ziel-SoC für das Fahrzeug." },
        { "type": "SelectVariable", "name": "CarTargetSOCID", "caption": "Ziel-SoC (Variable)" },
        { "type": "Label", "label": "🎯 Fallback Ziel-SoC in %, wenn keine Variable angegeben." },
        { "type": "NumberSpinner", "name": "CarTargetSOCFallback", "caption": "Fallback Ziel-SoC (%)", "suffix": "%" },
        { "type": "Label", "label": "🔋 Batteriekapazität des Fahrzeugs in kWh." },
        { "type": "NumberSpinner", "name": "CarBatteryCapacity", "caption": "Batteriekapazität (kWh)", "suffix": "kWh" }
      ]
    }
  ]
}
